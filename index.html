<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Bihar aur Uttarpradesh me online doctor appointment book karein. Maurya Doctor Seva se verified doctors.">
    <meta name="keywords" content="Maurya Doctor Seva, doctor appointment Bihar, online OPD booking, online purji lagao, doctor appointment uttarpradesh">
    
    <!-- Google verification -->
    <meta name="google-site-verification" content="mROJKeTMag89cL7-vA3IWH83X8SxhjyvTF1mFVQmw0M" />
    
    <title>Maurya Doctor Seva Online</title>
    <link rel="icon" type="image/png" href="https://i.ibb.co/JwBpF5mj/0cbe15501f005153ec5247cd04fe4315.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #8B4513; /* Brown */
            --secondary-color: #1e90ff; /* Dodger Blue */
            --dark-color: #2c1810; /* Dark Brown */
            --light-color: #f9f5f0; /* Light Beige */
            --gray-color: #a18d7a; /* Brown Gray */
            --success-color: #28a745;
        }

        body {
            background-color: #f5f7fb;
            color: #333;
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            color: var(--primary-color);
            font-size: 28px;
        }

        .logo h1 {
            color: var(--dark-color);
            font-size: 24px;
        }

        .logo span {
            color: var(--secondary-color);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 15px;
            background-color: #f5ede6;
            border-radius: 50px;
            cursor: pointer;
        }

        .user-info i {
            color: var(--primary-color);
        }

        .user-name {
            font-weight: 600;
            color: var(--dark-color);
        }

        /* Search Bar */
        .search-container {
            flex-grow: 1;
            max-width: 500px;
            margin: 0 30px;
            position: relative;
        }

        .search-bar {
            width: 100%;
            padding: 12px 20px;
            padding-left: 45px;
            border: 1px solid #e3e6ef;
            border-radius: 50px;
            font-size: 16px;
            background-color: #f8fafc;
            transition: all 0.3s;
        }

        .search-bar:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-color);
        }

        /* Categories Section */
        .categories {
            background-color: white;
            padding: 20px 0;
            border-bottom: 1px solid #eaeff4;
            margin-bottom: 20px;
        }

        .categories-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
        }

        .category-box {
            flex: 1;
            min-width: 200px;
            position: relative;
        }

        .category-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            background-color: #f8fafc;
            border-radius: 10px;
            cursor: pointer;
            border: 1px solid #e3e6ef;
            transition: all 0.3s;
        }

        .category-title:hover {
            background-color: #f5ede6;
            border-color: var(--primary-color);
        }

        .category-title h3 {
            font-size: 16px;
            color: var(--dark-color);
        }

        .category-title i {
            color: var(--primary-color);
            transition: transform 0.3s;
        }

        .category-title.active {
            border-color: var(--primary-color);
            background-color: #f5ede6;
        }

        .category-title.active i {
            transform: rotate(180deg);
        }

        .dropdown-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-top: 10px;
            z-index: 10;
            display: none;
            max-height: 300px;
            overflow-y: auto;
        }

        .dropdown-list.active {
            display: block;
        }

        .dropdown-item {
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .dropdown-item:hover {
            background-color: #f5ede6;
        }

        .dropdown-item.selected {
            background-color: #f0e6dc;
            color: var(--primary-color);
            font-weight: 600;
        }

        .dropdown-item .check-icon {
            color: var(--success-color);
            display: none;
        }

        .dropdown-item.selected .check-icon {
            display: inline;
        }

        /* Filter Status Bar */
        .filter-status {
            background-color: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            border: 1px solid #eaeff4;
        }

        .filter-status-title {
            font-weight: 600;
            color: var(--dark-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-tag {
            background-color: #e8f4ff;
            color: var(--secondary-color);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-tag.district {
            background-color: #f0e6dc;
            color: var(--primary-color);
        }

        .filter-tag.city {
            background-color: #e6f7e9;
            color: var(--success-color);
        }

        .filter-tag.specialty {
            background-color: #e8f4ff;
            color: var(--secondary-color);
        }

        .filter-tag.fee {
            background-color: #fff4e6;
            color: #e67e22;
        }

        .clear-filters {
            margin-left: auto;
            background-color: #f8fafc;
            color: var(--gray-color);
            border: 1px solid #e3e6ef;
            padding: 6px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .clear-filters:hover {
            background-color: #f5ede6;
            color: var(--primary-color);
            border-color: var(--primary-color);
        }

        /* Doctors Grid */
        .section-title {
            margin: 30px 0 20px;
            color: var(--dark-color);
            font-size: 24px;
        }

        .doctors-count {
            color: var(--gray-color);
            font-size: 16px;
            margin-left: 10px;
            font-weight: normal;
        }

        .doctors-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .doctor-card {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .doctor-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .doctor-image {
            height: 200px;
            background-color: #eaeff4;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .doctor-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .doctor-card:hover .doctor-image img {
            transform: scale(1.05);
        }

        .doctor-number {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background-color: rgba(139, 69, 19, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 600;
        }

        .doctor-info {
            padding: 20px;
        }

        .doctor-name {
            font-size: 20px;
            margin-bottom: 5px;
            color: var(--dark-color);
        }

        .doctor-specialty {
            color: var(--secondary-color);
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .doctor-details {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 10px 0;
            border-top: 1px solid #eaeff4;
            border-bottom: 1px solid #eaeff4;
        }

        .detail-item {
            text-align: center;
        }

        .detail-label {
            font-size: 13px;
            color: var(--gray-color);
        }

        .detail-value {
            font-weight: 600;
            color: var(--dark-color);
        }

        .fees {
            color: var(--secondary-color);
        }

        .appointment-btn {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            text-align: center;
            text-decoration: none;
            margin-top: 10px;
        }

        .appointment-btn:hover {
            background-color: #6b3610;
        }

        .whatsapp-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 12px;
            background-color: #25d366;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
            text-align: center;
            text-decoration: none;
        }

        .whatsapp-btn:hover {
            background-color: #1da851;
        }

        .call-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
            text-align: center;
            text-decoration: none;
        }

        .call-btn:hover {
            background-color: #388E3C;
        }

        /* Doctor Details Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: 15px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray-color);
            z-index: 10;
        }

        .modal-body {
            padding: 30px;
        }

        .doctor-header {
            display: flex;
            gap: 25px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .modal-doctor-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background-color: #eaeff4;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            overflow: hidden;
            border: 3px solid var(--primary-color);
        }

        .modal-doctor-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-doctor-info {
            flex: 1;
        }

        .modal-section {
            margin: 25px 0;
        }

        .modal-section h3 {
            color: var(--dark-color);
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eaeff4;
        }

        .location-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--secondary-color);
            text-decoration: none;
            padding: 8px 15px;
            background-color: #e8f4ff;
            border-radius: 5px;
            margin-top: 10px;
        }

        .location-link:hover {
            background-color: #d4e9ff;
        }

        /* Patient Info Form */
        .patient-form {
            background-color: #f8fafc;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .gender-options {
            display: flex;
            gap: 15px;
            margin-top: 5px;
        }

        .gender-option {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px;
            border: 1px solid #e3e6ef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .gender-option:hover {
            border-color: var(--primary-color);
            background-color: #f5ede6;
        }

        .gender-option.selected {
            border-color: var(--primary-color);
            background-color: #f5ede6;
        }

        /* Success Message */
        .success-message {
            text-align: center;
            padding: 30px;
            display: none;
        }

        .success-message.active {
            display: block;
        }

        .success-icon {
            font-size: 60px;
            color: var(--secondary-color);
            margin-bottom: 20px;
        }

        /* Advertisement */
        .ad-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin: 40px 0;
            text-align: center;
            border: 2px dashed #eaeff4;
        }

        .ad-placeholder {
            padding: 30px;
            background-color: #f8fafc;
            border-radius: 8px;
            color: var(--gray-color);
        }

        /* Footer */
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 40px 0 20px;
            margin-top: 50px;
        }

        .footer-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 40px;
        }

        .footer-column {
            flex: 1;
            min-width: 200px;
        }

        .footer-column h3 {
            font-size: 18px;
            margin-bottom: 20px;
            color: white;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #a4b1c7;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: white;
        }

        .copyright {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #2d3a54;
            color: #a4b1c7;
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 15px;
            }

            .search-container {
                margin: 0;
                width: 100%;
            }

            .categories-container {
                flex-direction: column;
            }

            .doctor-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .filter-status {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .clear-filters {
                margin-left: 0;
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <!-- Main Header -->
    <header id="mainHeader">
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-stethoscope"></i>
                <h1><span style="color: var(--primary-color);">MAURYA</span> <span style="color: var(--secondary-color);">DOCTOR SEVA</span></h1>
            </div>
            
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-bar" placeholder="डॉक्टर, विशेषता या रोग के नाम से खोजें...">
            </div>
            
            <div class="user-info" id="userInfo">
                <i class="fas fa-user-circle"></i>
                <span class="user-name" id="userName"></span>
            </div>
        </div>
    </header>

    <!-- Categories Section -->
    <section class="categories" id="categoriesSection">
        <div class="container categories-container">
            <div class="category-box">
                <div class="category-title" id="districtToggle">
                    <h3><i class="fas fa-map-marker-alt"></i> जिला चुनें</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="dropdown-list" id="districtList">
                    <div class="dropdown-item" data-district="all">
                        <span>सभी जिले</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-district="siwan">
                        <span>सिवान</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-district="mirganj">
                        <span>मीरगंज</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-district="chhapra">
                        <span>छपरा</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-district="kanpur">
                        <span>कानपुर</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-district="patna">
                        <span>पटना</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-district="gopalganj">
                        <span>गोपालगंज</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-district="gorakhpur">
                        <span>गोरखपुर</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                </div>
            </div>
            
            <div class="category-box">
                <div class="category-title" id="cityToggle" style="opacity: 0.5; cursor: not-allowed;">
                    <h3><i class="fas fa-city"></i> पहले जिला चुनें</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="dropdown-list" id="cityList">
                    <!-- City options will be dynamically loaded based on district selection -->
                </div>
            </div>
            
            <div class="category-box">
                <div class="category-title" id="specialtyToggle">
                    <h3><i class="fas fa-user-md"></i> विशेषता चुनें</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="dropdown-list" id="specialtyList">
                    <div class="dropdown-item" data-specialty="all">
                        <span>सभी विशेषज्ञ</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-specialty="cardiologist">
                        <span>हृदय रोग विशेषज्ञ</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-specialty="gynecologist">
                        <span>स्त्री रोग विशेषज्ञ</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-specialty="pediatrician">
                        <span>बाल रोग विशेषज्ञ</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-specialty="orthopedic">
                        <span>आर्थोपेडिक सर्जन</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-specialty="eye-specialist">
                        <span>आँखों के डॉक्टर</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-specialty="dermatologist">
                        <span>त्वचा रोग विशेषज्ञ</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                </div>
            </div>
            
            <div class="category-box">
                <div class="category-title" id="feeToggle">
                    <h3><i class="fas fa-rupee-sign"></i> फीस चुनें</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="dropdown-list" id="feeList">
                    <div class="dropdown-item" data-fee="all">
                        <span>सभी फीस</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-fee="0-200">
                        <span>₹0 - ₹200</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-fee="201-300">
                        <span>₹201 - ₹300</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-fee="401-500">
                        <span>₹401 - ₹500</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                    <div class="dropdown-item" data-fee="500+">
                        <span>₹500+</span>
                        <i class="fas fa-check check-icon"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Filter Status Bar -->
    <div class="container">
        <div class="filter-status" id="filterStatus">
            <div class="filter-status-title">
                <i class="fas fa-filter"></i>
                <span>सक्रिय फिल्टर:</span>
            </div>
            <div class="filter-tags" id="filterTags">
                <div class="filter-tag district">
                    <span>जिला: सभी</span>
                </div>
                <div class="filter-tag city">
                    <span>शहर: सभी</span>
                </div>
                <div class="filter-tag specialty">
                    <span>विशेषता: सभी</span>
                </div>
                <div class="filter-tag fee">
                    <span>फीस: सभी</span>
                </div>
            </div>
            <button class="clear-filters" id="clearFilters">
                <i class="fas fa-times"></i> सभी फिल्टर हटाएं
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container" id="mainContent">
        <h2 class="section-title">
            उपलब्ध डॉक्टर्स
            <span class="doctors-count" id="doctorsCount">(6 डॉक्टर्स)</span>
        </h2>
        
        <div class="doctors-grid" id="doctorsGrid">
            <!-- Doctors will be loaded here -->
        </div>
        
        <!-- Advertisement -->
        <div class="ad-container">
            <div class="ad-placeholder">
                <h3>Advertisement</h3>
                <p>यहाँ आपका विज्ञापन हो सकता है</p>
            </div>
        </div>
    </main>

    <!-- Doctor Details Modal -->
    <div class="modal" id="doctorModal">
        <div class="modal-content">
            <span class="close-modal" id="closeModal">&times;</span>
            <div class="modal-body" id="modalBody">
                <!-- Doctor details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="mainFooter">
        <div class="container footer-container">
            <div class="footer-column">
                <h3>MAURYA DOCTOR SEVA</h3>
                <p>आपकी स्वास्थ्य सेवाओं का विश्वसनीय साथी। 24x7 ऑनलाइन अपॉइंटमेंट और चिकित्सा सलाह।</p>
            </div>
            <div class="footer-column">
                <h3>त्वरित लिंक</h3>
                <ul class="footer-links">
                    <li><a href="#">डॉक्टर ढूंढें</a></li>
                    <li><a href="#">अपॉइंटमेंट बुक करें</a></li>
                    <li><a href="#">आपातकालीन सेवाएं</a></li>
                    <li><a href="#">चिकित्सा सलाह</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>बिहार का मौर्य काल फिर आएगा ।</h4>
                <h3>संपर्क करें</h3>
                <ul class="footer-links">
                    <li><i class="fas fa-phone"></i> हेल्पलाइन: +917643806356</li>
                    <li><i class="fas fa-envelope"></i> ईमेल: support@mauryadoctorseva.com</li>
                    <li><i class="fas fa-map-marker-alt"></i> मुख्य कार्यालय: पचरुखी भवानी मोड(सिवान),बिहार</li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            &copy; Copyright 2025 Maurya Doctor Seva
All Rights Reserved.

You are not allowed to copy, distribute, or modify this code without written permission from the owner.
        </div>
    </footer>

    <script>
        // Doctors Data with WhatsApp Numbers and Google Maps Links
        let doctors = [
            {
                name: "डॉ. राजेश कुमार",
                specialty: "हृदय रोग विशेषज्ञ",
                district: "siwan",
                city: "सीवान-नगर पालिका",
                experience: "15 वर्ष",
                fees: 500,
                address: "सिबिया अस्पताल, गोमती नगर, लखनऊ",
                mapLink: "https://maps.google.com/?q=26.8467,80.9462",
                description: "हृदय रोग और उच्च रक्तचाप विशेषज्ञ। 15+ वर्षों का अनुभव। PCI, एंजियोप्लास्टी विशेषज्ञ। सोम-शनि, 10 AM - 5 PM",
                availability: "सोम-शनि, 10 AM - 5 PM",
                education: "MBBS, MD (Cardiology), AIIMS दिल्ली",
                languages: "हिंदी, अंग्रेजी, उर्दू",
                photo: "https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=400&h=400&fit=crop",
                number: "+91 98765 43210",
                whatsapp: "919876543210"
            },
            {
                name: "डॉ. प्रिया शर्मा",
                specialty: "स्त्री रोग विशेषज्ञ",
                district: "kanpur",
                city: "कानपुर शहर",
                experience: "12 वर्ष",
                fees: 600,
                address: "मेडिकल कॉलेज, स्वरूप नगर, कानपुर",
                mapLink: "https://maps.google.com/?q=26.4499,80.3319",
                description: "स्त्री रोग और प्रसूति विशेषज्ञ। लेप्रोस्कोपिक सर्जरी, हाई रिस्क प्रेग्नेंसी विशेषज्ञ। सोम-शुक्र, 9 AM - 4 PM",
                availability: "सोम-शुक्र, 9 AM - 4 PM",
                education: "MBBS, MS (Obstetrics & Gynecology), KGMU",
                languages: "हिंदी, अंग्रेजी",
                photo: "https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=400&h=400&fit=crop",
                number: "+91 98765 43211",
                whatsapp: "919876543211"
            },
            {
                name: "डॉ. अमित सिंह",
                specialty: "बाल रोग विशेषज्ञ",
                district: "siwan",
                city: "सहार",
                experience: "10 वर्ष",
                fees: 400,
                address: "सहार सामुदायिक स्वास्थ्य केंद्र, सहार, सिवान",
                mapLink: "https://maps.google.com/?q=26.2,84.36",
                description: "बच्चों के रोग और टीकाकरण विशेषज्ञ। नवजात देखभाल, बाल स्वास्थ्य विशेषज्ञ। सोम-रवि, 11 AM - 7 PM",
                availability: "सोम-रवि, 11 AM - 7 PM",
                education: "MBBS, DCH, MD (Pediatrics), PMCH",
                languages: "हिंदी, अंग्रेजी, भोजपुरी",
                photo: "https://images.unsplash.com/photo-1622253692010-333f2da6031d?w=400&h=400&fit=crop",
                number: "+91 98765 43212",
                whatsapp: "919876543212"
            },
            {
                name: "डॉ. सुनील वर्मा",
                specialty: "आर्थोपेडिक सर्जन",
                district: "siwan",
                city: "आंदर",
                experience: "18 वर्ष",
                fees: 800,
                address: "आंदर प्राथमिक स्वास्थ्य केंद्र, आंदर, सिवान",
                mapLink: "https://maps.google.com/?q=26.15,84.3",
                description: "हड्डी और जोड़ों के रोग विशेषज्ञ। आर्थ्रोस्कोपिक सर्जरी, जॉइंट रिप्लेसमेंट विशेषज्ञ। सोम-शनि, 8 AM - 2 PM",
                availability: "सोम-शनि, 8 AM - 2 PM",
                education: "MBBS, MS (Orthopedics), MCh",
                languages: "हिंदी, अंग्रेजी",
                photo: "https://images.unsplash.com/photo-1537368910025-700350fe46c7?w=400&h=400&fit=crop",
                number: "+91 98765 43213",
                whatsapp: "919876543213"
            },
            {
                name: "डॉ. मीनाक्षी अग्रवाल",
                specialty: "आँखों के डॉक्टर",
                district: "siwan",
                city: "बसंतपुर",
                experience: "14 वर्ष",
                fees: 450,
                address: "नेत्र चिकित्सालय, बसंतपुर, सिवान",
                mapLink: "https://maps.google.com/?q=26.1,84.4",
                description: "नेत्र रोग और लेसिक सर्जरी विशेषज्ञ। कैटरैक्ट सर्जरी, ग्लूकोमा विशेषज्ञ। मंगल-शनि, 10 AM - 6 PM",
                availability: "मंगल-शनि, 10 AM - 6 PM",
                education: "MBBS, MS (Ophthalmology), DOMS",
                languages: "हिंदी, अंग्रेजी",
                photo: "https://images.unsplash.com/photo-1594824434340-7e7dfc37cabb?w=400&h=400&fit=crop",
                number: "+91 98765 43214",
                whatsapp: "919876543214"
            },
            {
                name: "डॉ. नीतू यादव",
                specialty: "त्वचा रोग विशेषज्ञ",
                district: "siwan",
                city: "गुठनी",
                experience: "8 वर्ष",
                fees: 700,
                address: "गुठनी स्वास्थ्य केंद्र, गुठनी, सिवान",
                mapLink: "https://maps.google.com/?q=26.05,84.45",
                description: "त्वचा रोग और कॉस्मेटिक उपचार विशेषज्ञ। लेजर थेरेपी, एक्ने ट्रीटमेंट विशेषज्ञ। बुध-रवि, 12 PM - 8 PM",
                availability: "बुध-रवि, 12 PM - 8 PM",
                education: "MBBS, MD (Dermatology), Venereology & Leprosy",
                languages: "हिंदी, अंग्रेजी",
                photo: "https://images.unsplash.com/photo-1527613426441-4da17471b66d?w=400&h=400&fit=crop",
                number: "+91 98765 43215",
                whatsapp: "919876543215"
            }
        ];

        // District-City mapping data
        const districtCityMap = {
            "siwan": ["सीवान-नगर पालिका", "आंदर", "बड़हरिया", "बसंतपुर", "गुठनी", "हसनपुरा", "सहार"],
            "mirganj": ["मीरगंज शहर", "मीरगंज ग्रामीण"],
            "chhapra": ["छपरा शहर", "सोनपुर", "मशरक"],
            "kanpur": ["कानपुर शहर", "कानपुर ग्रामीण"],
            "patna": ["पटना शहर", "दानापुर", "फतुहा"],
            "gopalganj": ["गोपालगंज शहर", "भोरे", "कटेया"],
            "gorakhpur": ["गोरखपुर शहर", "कुशीनगर", "महाराजगंज"],
            "all": ["सभी शहर"]
        };

        // User data storage
        let currentUser = {
            id: 0,
            name: "अतिथि",
            mobile: "",
            email: ""
        };

        let selectedDistrict = "all";
        let selectedCity = "all";
        let selectedSpecialty = "all";
        let selectedFee = "all";
        let searchTerm = "";

        // DOM Elements
        const mainHeader = document.getElementById('mainHeader');
        const categoriesSection = document.getElementById('categoriesSection');
        const mainContent = document.getElementById('mainContent');
        const mainFooter = document.getElementById('mainFooter');
        const doctorsGrid = document.getElementById('doctorsGrid');
        const doctorsCount = document.getElementById('doctorsCount');
        const districtToggle = document.getElementById('districtToggle');
        const districtList = document.getElementById('districtList');
        const cityToggle = document.getElementById('cityToggle');
        const cityList = document.getElementById('cityList');
        const specialtyToggle = document.getElementById('specialtyToggle');
        const specialtyList = document.getElementById('specialtyList');
        const feeToggle = document.getElementById('feeToggle');
        const feeList = document.getElementById('feeList');
        const filterStatus = document.getElementById('filterStatus');
        const filterTags = document.getElementById('filterTags');
        const clearFilters = document.getElementById('clearFilters');
        const doctorModal = document.getElementById('doctorModal');
        const closeModal = document.getElementById('closeModal');
        const modalBody = document.getElementById('modalBody');
        const searchBar = document.querySelector('.search-bar');
        const userInfo = document.getElementById('userInfo');
        const userName = document.getElementById('userName');

        // Function to update city dropdown based on selected district
        function updateCityDropdown(district) {
            const cityDropdown = document.getElementById('cityList');
            cityDropdown.innerHTML = '';
            
            // Enable city toggle if district is selected
            if (district !== "all") {
                cityToggle.style.opacity = "1";
                cityToggle.style.cursor = "pointer";
                cityToggle.querySelector('h3').innerHTML = `<i class="fas fa-city"></i> शहर चुनें`;
            } else {
                cityToggle.style.opacity = "0.5";
                cityToggle.style.cursor = "not-allowed";
                cityToggle.querySelector('h3').innerHTML = `<i class="fas fa-city"></i> पहले जिला चुनें`;
            }
            
            // Add "All Cities" option
            const allCitiesOption = document.createElement('div');
            allCitiesOption.className = 'dropdown-item';
            allCitiesOption.setAttribute('data-city', 'all');
            allCitiesOption.innerHTML = `<span>सभी शहर</span><i class="fas fa-check check-icon"></i>`;
            cityDropdown.appendChild(allCitiesOption);
            
            // Add cities based on selected district
            if (district === 'all') {
                // Show all cities from all districts
                const allCities = [];
                Object.values(districtCityMap).forEach(cities => {
                    cities.forEach(city => {
                        if (city !== "सभी शहर" && !allCities.includes(city)) {
                            allCities.push(city);
                        }
                    });
                });
                
                allCities.sort().forEach(city => {
                    const cityOption = document.createElement('div');
                    cityOption.className = 'dropdown-item';
                    cityOption.setAttribute('data-city', city);
                    cityOption.innerHTML = `<span>${city}</span><i class="fas fa-check check-icon"></i>`;
                    cityDropdown.appendChild(cityOption);
                });
            } else if (districtCityMap[district]) {
                // Show cities for selected district
                districtCityMap[district].sort().forEach(city => {
                    const cityOption = document.createElement('div');
                    cityOption.className = 'dropdown-item';
                    cityOption.setAttribute('data-city', city);
                    cityOption.innerHTML = `<span>${city}</span><i class="fas fa-check check-icon"></i>`;
                    cityDropdown.appendChild(cityOption);
                });
            }
            
            // Reset city selection
            selectedCity = "all";
            updateSelectedItems();
            
            // Add event listeners to city options
            document.querySelectorAll('#cityList .dropdown-item').forEach(item => {
                item.addEventListener('click', function() {
                    if (selectedDistrict === "all") return;
                    
                    selectedCity = this.getAttribute('data-city');
                    cityToggle.querySelector('h3').innerHTML = `<i class="fas fa-city"></i> ${this.querySelector('span').textContent}`;
                    cityList.classList.remove('active');
                    cityToggle.classList.remove('active');
                    updateSelectedItems();
                    filterDoctors();
                });
            });
        }

        // Function to update selected items in dropdowns
        function updateSelectedItems() {
            // Update district dropdown
            document.querySelectorAll('#districtList .dropdown-item').forEach(item => {
                item.classList.remove('selected');
                if (item.getAttribute('data-district') === selectedDistrict) {
                    item.classList.add('selected');
                }
            });
            
            // Update city dropdown
            document.querySelectorAll('#cityList .dropdown-item').forEach(item => {
                item.classList.remove('selected');
                if (item.getAttribute('data-city') === selectedCity) {
                    item.classList.add('selected');
                }
            });
            
            // Update specialty dropdown
            document.querySelectorAll('#specialtyList .dropdown-item').forEach(item => {
                item.classList.remove('selected');
                if (item.getAttribute('data-specialty') === selectedSpecialty) {
                    item.classList.add('selected');
                }
            });
            
            // Update fee dropdown
            document.querySelectorAll('#feeList .dropdown-item').forEach(item => {
                item.classList.remove('selected');
                if (item.getAttribute('data-fee') === selectedFee) {
                    item.classList.add('selected');
                }
            });
            
            // Update filter status
            updateFilterStatus();
        }

        // Function to update filter status bar
        function updateFilterStatus() {
            filterTags.innerHTML = '';
            
            // District tag
            const districtTag = document.createElement('div');
            districtTag.className = 'filter-tag district';
            const districtText = selectedDistrict === 'all' ? 'सभी' : 
                document.querySelector(`#districtList .dropdown-item[data-district="${selectedDistrict}"] span`).textContent;
            districtTag.innerHTML = `<i class="fas fa-map-marker-alt"></i><span>जिला: ${districtText}</span>`;
            filterTags.appendChild(districtTag);
            
            // City tag (only if district is selected)
            if (selectedDistrict !== 'all') {
                const cityTag = document.createElement('div');
                cityTag.className = 'filter-tag city';
                const cityText = selectedCity === 'all' ? 'सभी' : 
                    document.querySelector(`#cityList .dropdown-item[data-city="${selectedCity}"] span`).textContent;
                cityTag.innerHTML = `<i class="fas fa-city"></i><span>शहर: ${cityText}</span>`;
                filterTags.appendChild(cityTag);
            }
            
            // Specialty tag
            const specialtyTag = document.createElement('div');
            specialtyTag.className = 'filter-tag specialty';
            const specialtyText = selectedSpecialty === 'all' ? 'सभी' : 
                document.querySelector(`#specialtyList .dropdown-item[data-specialty="${selectedSpecialty}"] span`).textContent;
            specialtyTag.innerHTML = `<i class="fas fa-user-md"></i><span>विशेषता: ${specialtyText}</span>`;
            filterTags.appendChild(specialtyTag);
            
            // Fee tag
            const feeTag = document.createElement('div');
            feeTag.className = 'filter-tag fee';
            const feeText = selectedFee === 'all' ? 'सभी' : 
                document.querySelector(`#feeList .dropdown-item[data-fee="${selectedFee}"] span`).textContent;
            feeTag.innerHTML = `<i class="fas fa-rupee-sign"></i><span>फीस: ${feeText}</span>`;
            filterTags.appendChild(feeTag);
        }

        // Show Main Application
        function showMainApp() {
            mainHeader.style.display = 'block';
            categoriesSection.style.display = 'block';
            mainContent.style.display = 'block';
            mainFooter.style.display = 'block';
            
            userName.textContent = currentUser.name;
            
            // Initialize city dropdown with all cities
            updateCityDropdown('all');
            
            // Initialize selected items
            updateSelectedItems();
            
            // Display doctors
            displayDoctors(doctors);
            
            // Setup event listeners
            setupEventListeners();
        }

        // Display Doctors
        function displayDoctors(doctorsList) {
            doctorsGrid.innerHTML = '';
            
            if (doctorsList.length === 0) {
                doctorsGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                        <i class="fas fa-search" style="font-size: 48px; color: var(--gray-color); margin-bottom: 20px;"></i>
                        <h3>कोई डॉक्टर नहीं मिला</h3>
                        <p>कृपया अपने फिल्टर बदलें और फिर से खोजें</p>
                    </div>
                `;
                doctorsCount.textContent = `(0 डॉक्टर्स)`;
                return;
            }
            
            doctorsList.forEach(doctor => {
                const doctorCard = document.createElement('div');
                doctorCard.className = 'doctor-card';
                doctorCard.setAttribute('data-doctor', JSON.stringify(doctor).replace(/'/g, "&apos;"));
                
                doctorCard.innerHTML = `
                    <div class="doctor-image">
                        <img src="${doctor.photo}" alt="${doctor.name}" onerror="this.src='https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=400&h=400&fit=crop'">
                        <div class="doctor-number">
                            <i class="fas fa-phone-alt"></i> ${doctor.number}
                        </div>
                    </div>
                    <div class="doctor-info">
                        <h3 class="doctor-name">${doctor.name}</h3>
                        <div class="doctor-specialty">
                            <i class="fas fa-user-md"></i> ${doctor.specialty}
                        </div>
                        <div class="doctor-details">
                            <div class="detail-item">
                                <div class="detail-label">अनुभव</div>
                                <div class="detail-value">${doctor.experience}</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">शहर</div>
                                <div class="detail-value">${doctor.city}</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">फीस</div>
                                <div class="detail-value fees">₹${doctor.fees}</div>
                            </div>
                        </div>
                        <button class="appointment-btn book-appointment-btn">
                            <i class="fas fa-calendar-check"></i> अपॉइंटमेंट बुक करें
                        </button>
                    </div>
                `;
                
                doctorsGrid.appendChild(doctorCard);
            });
            
            // Update doctors count
            doctorsCount.textContent = `(${doctorsList.length} डॉक्टर्स)`;
            
            // Add event listeners to appointment buttons
            document.querySelectorAll('.book-appointment-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const doctorCard = this.closest('.doctor-card');
                    const doctorData = JSON.parse(doctorCard.getAttribute('data-doctor').replace(/&apos;/g, "'"));
                    showDoctorDetails(doctorData);
                });
            });
        }

        // Show Doctor Details
        function showDoctorDetails(doctor) {
            modalBody.innerHTML = `
                <div class="doctor-header">
                    <div class="modal-doctor-image">
                        <img src="${doctor.photo}" alt="${doctor.name}" onerror="this.src='https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=400&h=400&fit=crop'">
                    </div>
                    <div class="modal-doctor-info">
                        <h2>${doctor.name}</h2>
                        <p><strong>${doctor.specialty}</strong></p>
                        <p><i class="fas fa-map-marker-alt"></i> ${doctor.address}</p>
                        <a href="${doctor.mapLink}" target="_blank" class="location-link">
                            <i class="fas fa-directions"></i> Google Maps पर देखें
                        </a>
                        <p><i class="fas fa-clock"></i> उपलब्धता: ${doctor.availability}</p>
                        <p><i class="fas fa-rupee-sign"></i> परामर्श शुल्क: ₹${doctor.fees}</p>
                        <p><i class="fas fa-phone-alt"></i> फोन: ${doctor.number}</p>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h3>परिचय</h3>
                    <p>${doctor.description}</p>
                </div>
                
                <div class="modal-section">
                    <h3>शिक्षा</h3>
                    <p>${doctor.education}</p>
                </div>
                
                <div class="modal-section">
                    <h3>अनुभव</h3>
                    <p>${doctor.experience} का अनुभव</p>
                </div>
                
                <div class="modal-section">
                    <h3>भाषाएं</h3>
                    <p>${doctor.languages}</p>
                </div>
                
                <div class="modal-section">
                    <h3>अपॉइंटमेंट बुक करें</h3>
                    <div class="patient-form" id="appointmentForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">रोगी का नाम *</label>
                                <input type="text" class="form-input" id="patientName" placeholder="रोगी का पूरा नाम" value="${currentUser.name}">
                            </div>
                            <div class="form-group">
                                <label class="form-label">उम्र *</label>
                                <input type="number" class="form-input" id="patientAge" placeholder="उम्र" min="1" max="120">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">लिंग *</label>
                            <div class="gender-options">
                                <div class="gender-option" data-value="male">
                                    <i class="fas fa-male"></i>
                                    <span>पुरुष</span>
                                </div>
                                <div class="gender-option" data-value="female">
                                    <i class="fas fa-female"></i>
                                    <span>महिला</span>
                                </div>
                                <div class="gender-option" data-value="other">
                                    <i class="fas fa-user"></i>
                                    <span>अन्य</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">मोबाइल नंबर *</label>
                                <input type="text" class="form-input" id="patientMobile" placeholder="मोबाइल नंबर" value="${currentUser.mobile}">
                            </div>
                            <div class="form-group">
                                <label class="form-label">अपॉइंटमेंट की तारीख *</label>
                                <input type="date" class="form-input" id="appointmentDate">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">समय चुनें *</label>
                            <select class="form-input" id="appointmentTime">
                                <option value="">समय चुनें</option>
                                <option value="09:00">09:00 AM</option>
                                <option value="10:00">10:00 AM</option>
                                <option value="11:00">11:00 AM</option>
                                <option value="12:00">12:00 PM</option>
                                <option value="14:00">02:00 PM</option>
                                <option value="15:00">03:00 PM</option>
                                <option value="16:00">04:00 PM</option>
                                <option value="17:00">05:00 PM</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">लक्षण (वैकल्पिक)</label>
                            <textarea class="form-input" id="symptoms" placeholder="आपके लक्षणों का विवरण" rows="3"></textarea>
                        </div>
                        
                        <button class="appointment-btn" id="submitAppointmentBtn">
                            <i class="fas fa-paper-plane"></i> WhatsApp पर अपॉइंटमेंट भेजें
                        </button>
                        
                        <p style="text-align: center; margin-top: 15px; color: var(--gray-color); font-size: 14px;">
                            <i class="fas fa-info-circle"></i> Appointment details डॉक्टर के WhatsApp पर भेजी जाएगी
                        </p>
                    </div>
                    
                    <div class="success-message" id="successMessage">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3>अपॉइंटमेंट विवरण तैयार है!</h3>
                        <p>अब आप डॉक्टर को WhatsApp पर संदेश भेज सकते हैं।</p>
                        <p>संदेश में आपका अपॉइंटमेंट विवरण पहले से भरा हुआ है।</p>
                        
                        <a href="#" target="_blank" class="whatsapp-btn" id="whatsappBtn">
                            <i class="fab fa-whatsapp"></i> WhatsApp पर अपॉइंटमेंट भेजें
                        </a>
                        
                        <a href="tel:${doctor.whatsapp}" class="call-btn" style="margin-top: 10px;">
                            <i class="fas fa-phone"></i> सीधा कॉल करें: ${doctor.number}
                        </a>
                        
                        <button class="appointment-btn" onclick="doctorModal.classList.remove('active')" style="margin-top: 20px; background-color: #6c757d;">
                            <i class="fas fa-times"></i> बंद करें
                        </button>
                    </div>
                </div>
            `;
            
            // Gender selection
            document.querySelectorAll('.gender-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.gender-option').forEach(o => o.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
            
            // Set tomorrow's date as default
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const formattedDate = tomorrow.toISOString().split('T')[0];
            const dateInput = document.getElementById('appointmentDate');
            dateInput.value = formattedDate;
            dateInput.min = formattedDate;
            
            // Appointment form submission
            const submitAppointmentBtn = document.getElementById('submitAppointmentBtn');
            const appointmentForm = document.getElementById('appointmentForm');
            const successMessage = document.getElementById('successMessage');
            const whatsappBtn = document.getElementById('whatsappBtn');
            
            submitAppointmentBtn.addEventListener('click', function(e) {
                e.preventDefault();
                
                const patientName = document.getElementById('patientName').value;
                const patientAge = document.getElementById('patientAge').value;
                const patientGender = document.querySelector('.gender-option.selected')?.getAttribute('data-value');
                const patientMobile = document.getElementById('patientMobile').value;
                const appointmentDate = document.getElementById('appointmentDate').value;
                const appointmentTime = document.getElementById('appointmentTime').value;
                const symptoms = document.getElementById('symptoms').value;
                
                if (!patientName || !patientAge || !patientGender || !patientMobile || !appointmentDate || !appointmentTime) {
                    alert("कृपया सभी आवश्यक जानकारी भरें");
                    return;
                }
                
                // Format date
                const dateObj = new Date(appointmentDate);
                const formattedDate = dateObj.toLocaleDateString('hi-IN', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Prepare WhatsApp message
                let whatsappMessage = `नमस्ते डॉक्टर ${doctor.name},\n\nमैं ${patientName} अपॉइंटमेंट बुक करना चाहता/चाहती हूं।\n\nरोगी विवरण:\n- नाम: ${patientName}\n- उम्र: ${patientAge}\n- लिंग: ${patientGender}\n- मोबाइल: ${patientMobile}\n\nअपॉइंटमेंट समय:\n- तारीख: ${formattedDate}\n- समय: ${appointmentTime}\n`;
                
                if (symptoms) {
                    whatsappMessage += `\nलक्षण: ${symptoms}\n`;
                }
                
                whatsappMessage += `\nकृपया इस अपॉइंटमेंट की पुष्टि करें।\n\nधन्यवाद।`;
                
                // Create WhatsApp link
                const whatsappLink = `https://wa.me/${doctor.whatsapp}?text=${encodeURIComponent(whatsappMessage)}`;
                
                // Update WhatsApp button
                whatsappBtn.href = whatsappLink;
                whatsappBtn.target = "_blank";
                
                // Show success message
                appointmentForm.style.display = 'none';
                successMessage.classList.add('active');
                
                // Auto-click WhatsApp button after 2 seconds
                setTimeout(() => {
                    whatsappBtn.click();
                }, 2000);
            });
            
            // Show modal
            doctorModal.classList.add('active');
        }

        // Filter Doctors
        function filterDoctors() {
            let filteredDoctors = [...doctors];
            
            // Filter by district
            if (selectedDistrict !== "all") {
                filteredDoctors = filteredDoctors.filter(doctor => 
                    doctor.district === selectedDistrict
                );
            }
            
            // Filter by city (only if district is selected)
            if (selectedDistrict !== "all" && selectedCity !== "all") {
                filteredDoctors = filteredDoctors.filter(doctor => 
                    doctor.city === selectedCity
                );
            }
            
            // Filter by specialty
            if (selectedSpecialty !== "all") {
                filteredDoctors = filteredDoctors.filter(doctor => 
                    doctor.specialty.includes(selectedSpecialty.split('-')[0])
                );
            }
            
            // Filter by fee
            if (selectedFee !== "all") {
                const [min, max] = selectedFee.split('-').map(part => {
                    if (part.endsWith('+')) {
                        return parseInt(part) - 1;
                    }
                    return parseInt(part);
                });
                
                if (selectedFee.endsWith('+')) {
                    filteredDoctors = filteredDoctors.filter(doctor => 
                        doctor.fees > max
                    );
                } else {
                    filteredDoctors = filteredDoctors.filter(doctor => 
                        doctor.fees >= min && doctor.fees <= max
                    );
                }
            }
            
            // Filter by search term
            if (searchTerm) {
                const term = searchTerm.toLowerCase();
                filteredDoctors = filteredDoctors.filter(doctor => 
                    doctor.name.toLowerCase().includes(term) ||
                    doctor.specialty.toLowerCase().includes(term) ||
                    doctor.district.toLowerCase().includes(term) ||
                    doctor.city.toLowerCase().includes(term) ||
                    doctor.address.toLowerCase().includes(term)
                );
            }
            
            displayDoctors(filteredDoctors);
        }

        // Setup Event Listeners
        function setupEventListeners() {
            // Toggle dropdowns
            districtToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                districtList.classList.toggle('active');
                districtToggle.classList.toggle('active');
                specialtyList.classList.remove('active');
                specialtyToggle.classList.remove('active');
                feeList.classList.remove('active');
                feeToggle.classList.remove('active');
                cityList.classList.remove('active');
                cityToggle.classList.remove('active');
            });

            cityToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                if (selectedDistrict === "all") return;
                cityList.classList.toggle('active');
                cityToggle.classList.toggle('active');
                districtList.classList.remove('active');
                districtToggle.classList.remove('active');
                specialtyList.classList.remove('active');
                specialtyToggle.classList.remove('active');
                feeList.classList.remove('active');
                feeToggle.classList.remove('active');
            });

            specialtyToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                specialtyList.classList.toggle('active');
                specialtyToggle.classList.toggle('active');
                districtList.classList.remove('active');
                districtToggle.classList.remove('active');
                feeList.classList.remove('active');
                feeToggle.classList.remove('active');
                cityList.classList.remove('active');
                cityToggle.classList.remove('active');
            });

            feeToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                feeList.classList.toggle('active');
                feeToggle.classList.toggle('active');
                districtList.classList.remove('active');
                districtToggle.classList.remove('active');
                specialtyList.classList.remove('active');
                specialtyToggle.classList.remove('active');
                cityList.classList.remove('active');
                cityToggle.classList.remove('active');
            });

            // Close dropdowns when clicking outside
            document.addEventListener('click', () => {
                districtList.classList.remove('active');
                districtToggle.classList.remove('active');
                specialtyList.classList.remove('active');
                specialtyToggle.classList.remove('active');
                feeList.classList.remove('active');
                feeToggle.classList.remove('active');
                cityList.classList.remove('active');
                cityToggle.classList.remove('active');
            });

            // District selection
            document.querySelectorAll('#districtList .dropdown-item').forEach(item => {
                item.addEventListener('click', function() {
                    selectedDistrict = this.getAttribute('data-district');
                    districtToggle.querySelector('h3').innerHTML = `<i class="fas fa-map-marker-alt"></i> ${this.querySelector('span').textContent}`;
                    districtList.classList.remove('active');
                    districtToggle.classList.remove('active');
                    
                    // Update city dropdown based on selected district
                    updateCityDropdown(selectedDistrict);
                    
                    filterDoctors();
                });
            });

            // Specialty selection
            document.querySelectorAll('#specialtyList .dropdown-item').forEach(item => {
                item.addEventListener('click', function() {
                    selectedSpecialty = this.getAttribute('data-specialty');
                    specialtyToggle.querySelector('h3').innerHTML = `<i class="fas fa-user-md"></i> ${this.querySelector('span').textContent}`;
                    specialtyList.classList.remove('active');
                    specialtyToggle.classList.remove('active');
                    updateSelectedItems();
                    filterDoctors();
                });
            });

            // Fee selection
            document.querySelectorAll('#feeList .dropdown-item').forEach(item => {
                item.addEventListener('click', function() {
                    selectedFee = this.getAttribute('data-fee');
                    feeToggle.querySelector('h3').innerHTML = `<i class="fas fa-rupee-sign"></i> ${this.querySelector('span').textContent}`;
                    feeList.classList.remove('active');
                    feeToggle.classList.remove('active');
                    updateSelectedItems();
                    filterDoctors();
                });
            });

            // Clear filters button
            clearFilters.addEventListener('click', function() {
                selectedDistrict = "all";
                selectedCity = "all";
                selectedSpecialty = "all";
                selectedFee = "all";
                searchTerm = "";
                searchBar.value = "";
                
                // Reset dropdown titles
                districtToggle.querySelector('h3').innerHTML = `<i class="fas fa-map-marker-alt"></i> जिला चुनें`;
                cityToggle.querySelector('h3').innerHTML = `<i class="fas fa-city"></i> पहले जिला चुनें`;
                cityToggle.style.opacity = "0.5";
                cityToggle.style.cursor = "not-allowed";
                specialtyToggle.querySelector('h3').innerHTML = `<i class="fas fa-user-md"></i> विशेषता चुनें`;
                feeToggle.querySelector('h3').innerHTML = `<i class="fas fa-rupee-sign"></i> फीस चुनें`;
                
                // Update city dropdown
                updateCityDropdown('all');
                
                // Update selected items and filter doctors
                updateSelectedItems();
                filterDoctors();
            });

            // Search functionality
            searchBar.addEventListener('input', function() {
                searchTerm = this.value.toLowerCase();
                filterDoctors();
            });

            // Modal close functionality
            closeModal.addEventListener('click', () => {
                doctorModal.classList.remove('active');
            });

            // Close modal when clicking outside
            doctorModal.addEventListener('click', (e) => {
                if (e.target === doctorModal) {
                    doctorModal.classList.remove('active');
                }
            });

            // User info click
            userInfo.addEventListener('click', function() {
                alert("आप अतिथि के रूप में उपयोग कर रहे हैं। अपॉइंटमेंट बुक करने के लिए अपना नाम और मोबाइल नंबर डाल सकते हैं।");
            });
        }

        // Initialize App
        function initializeApp() {
            showMainApp();
        }

        // Start the application
        initializeApp();
    </script>
</body>
</html>
